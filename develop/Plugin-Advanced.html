<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Plugin Advanced | AsTeRICS</title>
    <meta name="description" content="Customized Low-Cost Assistive Technologies">
    <link rel="apple-touch-icon" sizes="180x180" href="/asterics-docs/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/asterics-docs/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/asterics-docs/favicon/favicon-16x16.png">
  <link rel="manifest" href="/asterics-docs/favicon/site.webmanifest">
  <link rel="mask-icon" href="/asterics-docs/favicon/safari-pinned-tab.svg" color="#0ea1f2">
  <meta name="apple-mobile-web-app-title" content="AsTeRICS Docs">
  <meta name="application-name" content="AsTeRICS Docs">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/asterics-docs/assets/css/0.styles.d02ca974.css" as="style"><link rel="preload" href="/asterics-docs/assets/js/app.863aef42.js" as="script"><link rel="preload" href="/asterics-docs/assets/js/3.7faabfa7.js" as="script"><link rel="preload" href="/asterics-docs/assets/js/79.1667e015.js" as="script"><link rel="preload" href="/asterics-docs/assets/js/241.0cf33f56.js" as="script"><link rel="preload" href="/asterics-docs/assets/js/10.ca5709b3.js" as="script">
    <link rel="stylesheet" href="/asterics-docs/assets/css/0.styles.d02ca974.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/asterics-docs/" class="home-link router-link-active"><!----> <span class="site-name">AsTeRICS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/asterics-docs/get-started/" class="nav-link">Get Started</a></div><div class="nav-item"><a href="/asterics-docs/solutions/" class="nav-link">Solutions</a></div><div class="nav-item"><a href="/asterics-docs/customize/" class="nav-link">Customize</a></div><div class="nav-item"><a href="/asterics-docs/plugins/Introduction.html" class="nav-link">Plugins</a></div><div class="nav-item"><a href="/asterics-docs/develop/" class="nav-link router-link-active">Develop</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Manuals</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/asterics-docs/manuals/WebACS/ACS_Basic_Functions.html" class="nav-link">WebACS</a></li><li class="dropdown-subitem"><a href="/asterics-docs/manuals/ACS/ACS_Basic_Functions.html" class="nav-link">ACS</a></li><li class="dropdown-subitem"><a href="/asterics-docs/manuals/ARE/ARE_Introduction.html" class="nav-link">ARE</a></li></ul></li><li class="dropdown-item"><h4>Applications</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://asterics.github.io/AsTeRICS/webapps/WebACS/?areBaseURI=http://localhost:8081" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WebACS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://asterics.github.io/AsTeRICS-Grid/package/static/#main" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AsTeRICS Grid
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/About-us.html" class="nav-link">About us</a></li><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/Contact.html" class="nav-link">Contact</a></li><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/Contribute.html" class="nav-link">Contribute</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/asterics-docs/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/asterics-docs/de/" class="nav-link">German</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/asterics/AsTeRICS/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/asterics-docs/get-started/" class="nav-link">Get Started</a></div><div class="nav-item"><a href="/asterics-docs/solutions/" class="nav-link">Solutions</a></div><div class="nav-item"><a href="/asterics-docs/customize/" class="nav-link">Customize</a></div><div class="nav-item"><a href="/asterics-docs/plugins/Introduction.html" class="nav-link">Plugins</a></div><div class="nav-item"><a href="/asterics-docs/develop/" class="nav-link router-link-active">Develop</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Manuals</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/asterics-docs/manuals/WebACS/ACS_Basic_Functions.html" class="nav-link">WebACS</a></li><li class="dropdown-subitem"><a href="/asterics-docs/manuals/ACS/ACS_Basic_Functions.html" class="nav-link">ACS</a></li><li class="dropdown-subitem"><a href="/asterics-docs/manuals/ARE/ARE_Introduction.html" class="nav-link">ARE</a></li></ul></li><li class="dropdown-item"><h4>Applications</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://asterics.github.io/AsTeRICS/webapps/WebACS/?areBaseURI=http://localhost:8081" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WebACS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://asterics.github.io/AsTeRICS-Grid/package/static/#main" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AsTeRICS Grid
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/About-us.html" class="nav-link">About us</a></li><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/Contact.html" class="nav-link">Contact</a></li><li class="dropdown-subitem"><a href="/asterics-docs/get-involved/Contribute.html" class="nav-link">Contribute</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/asterics-docs/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/asterics-docs/de/" class="nav-link">German</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/asterics/AsTeRICS/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Get Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/asterics-docs/develop/Development-Environment.html" class="sidebar-link">Development Environment</a></li><li><a href="/asterics-docs/develop/Coding-Guidelines.html" class="sidebar-link">Coding Guidelines</a></li><li><a href="/asterics-docs/develop/Unit-Testing.html" class="sidebar-link">Unit Testing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Plugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/asterics-docs/develop/Plugin-Introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/asterics-docs/develop/Plugin-Tutorial.html" class="sidebar-link">Tutorial</a></li><li><a href="/asterics-docs/develop/Plugin-Advanced.html" class="active sidebar-link">Advanced</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#writing-asterics-plugin-code" class="sidebar-link">Writing AsTeRICS Plugin Code</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#are-coding-guidelines" class="sidebar-link">ARE Coding Guidelines</a></li></ul></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#eclipse-code-style-settings" class="sidebar-link">Eclipse Code Style Settings</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#port-naming-conventions" class="sidebar-link">Port Naming Conventions</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#property-naming-conventions" class="sidebar-link">Property Naming Conventions</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#bundle-descriptor-naming-conventions" class="sidebar-link">Bundle Descriptor Naming Conventions</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#asterics-are-service-and-plugin-source-file-header" class="sidebar-link">AsTeRICS ARE, service and plugin source file header</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#javadoc-compatible-comments" class="sidebar-link">JavaDoc compatible comments</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#implementing-asterics-components" class="sidebar-link">Implementing AsTeRICS components</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#the-bundle-descriptors" class="sidebar-link">The Bundle Descriptors</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#the-deployment-descriptor" class="sidebar-link">The Deployment Descriptor</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#the-manifest-file" class="sidebar-link">The Manifest file</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#structure-of-osgi-bundles-containing-are-components" class="sidebar-link">Structure of OSGi bundles containing ARE components</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#component-lifecyle" class="sidebar-link">Component lifecyle</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#threading" class="sidebar-link">Threading</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#writing-plugins-using-swing" class="sidebar-link">Writing plugins using Swing</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#long-lasting-method-calls" class="sidebar-link">Long lasting method calls</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#sensor-callbacks" class="sidebar-link">Sensor callbacks</a></li><li class="sidebar-sub-header"><a href="/asterics-docs/develop/Plugin-Advanced.html#contributing-a-developed-plugin-git-pull-request" class="sidebar-link">Contributing a developed plugin (git pull request)</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ARE Middleware</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/asterics-docs/develop/ARE.html" class="sidebar-link">Advanced</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ARE Remote APIs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/asterics-docs/develop/ARE-Webserver.html" class="sidebar-link">Webserver</a></li><li><a href="/asterics-docs/develop/REST-API.html" class="sidebar-link">REST</a></li><li><a href="/asterics-docs/develop/asterics-wiki/api/AsTeRICS Websocket.html" class="sidebar-link">Websocket</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>AT Solution</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/asterics-docs/develop/AT_solution_development.html" class="sidebar-link">Introduction</a></li><li><a href="/asterics-docs/develop/AT-solution-demos.html" class="sidebar-link">Demos</a></li><li><a href="/asterics-docs/develop/asterics-wiki/coding_instructions/AsTeRICS Solutions.html" class="sidebar-link">Tutorial</a></li><li><a href="/asterics-docs/develop/APE.html" class="sidebar-link">AsTeRICS Packaging Environment (APE)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="plugin-advanced"><a href="#plugin-advanced" aria-hidden="true" class="header-anchor">#</a> Plugin Advanced</h1> <h2 id="writing-asterics-plugin-code"><a href="#writing-asterics-plugin-code" aria-hidden="true" class="header-anchor">#</a> Writing AsTeRICS Plugin Code</h2> <h3 id="are-coding-guidelines"><a href="#are-coding-guidelines" aria-hidden="true" class="header-anchor">#</a> ARE Coding Guidelines</h3> <p>Coding guidelines are necessary to allow new developers to quickly find their through the code of the ARE. They are created in such a way to provide means for developers to understand code of each other but they also make sure that non-technical users can find their way through a model in ACS.</p> <p>If you use Eclipse as IDE, <strong>you can import predefined clean up, code template and formatting settings</strong>, which cover some of the coding guidelines (see 4.1.1).</p> <p>The basic coding guidelines are:</p> <ul><li><p>Plugins, ports and properties should be named intuitively in the bundle descriptor. Only if necessary, the corresponding variables in the plugin code should be named differently. However they should adhere to the naming conventions stated in section 4.1.3 and different names should be commented in the code sections which translate the name into the variable (getInputPort(), getRuntimeProperty() …)</p></li> <li><p>Variable names should always use the Java naming conventions</p></li> <li><p>Every method should be preceded by a JavaDoc compatible header in order to allow new developer to grasp what is going on in it</p></li> <li><p>Where reasonable code comments should be added to improve understanding of code internals</p></li> <li><p>Code should be indented by four spaces per indentations stage. Indentations should be done using space and <strong>not tabs</strong>. Tabs should be converted to spaces.</p></li> <li><p>Opening parentheses should be placed in the same line</p></li></ul> <h2 id="eclipse-code-style-settings"><a href="#eclipse-code-style-settings" aria-hidden="true" class="header-anchor">#</a> Eclipse Code Style Settings</h2> <p>If you use Eclipse as IDE, you can import predefined clean up, code template and formatting settings. The files are located in the AsTeRICS/ARE folder of the checkout github repository.</p> <ul><li><p><strong>Eclipse - Code Style - Clean Up.xml</strong>: Definitions for cleanup, e.g. remove unused imports and unused variables</p></li> <li><p><strong>Eclipse - Code Style - Code Templates.xml</strong>: Contains default file header including license information (see 4.1.5) and default class comment (see 4.1.6).</p></li> <li><p><strong>Eclipse - Code Style - Formatter.xml</strong>: Contains code formatting definitions e.g. 4 spaces instead of tabs.</p></li></ul> <p>You can import the settings by</p> <ol><li><p>selecting the project folder and clicking right mouse button</p></li> <li><p>opening ‘Properties’ entry of popup menu</p></li> <li><p>Opening ‘Java Code Style’/Clean Up|Code Templates|Formatter respectively</p></li></ol> <h2 id="port-naming-conventions"><a href="#port-naming-conventions" aria-hidden="true" class="header-anchor">#</a> Port Naming Conventions</h2> <p>Variables of port instances should be named with a prefix indicating what kind of port it is. The rest of the port name should indicate the port’s use and adhere to the standard Java variable naming conventions. The available prefixes are:</p> <ul><li><p>ip: indicates that the port is an instance of IRuntimeInputPort</p></li> <li><p>op: indicates that the port is an instance of IRuntimeOutputPort</p></li> <li><p>elp: indicates that the port is an instance of IRuntimeEventListenerPort</p></li> <li><p>etp: indicates that the port is an instance of IRuntimeEventTriggererPort</p></li></ul> <p>A variable holding an event listener port could therefore be named <em>elpKeyPressed</em>.</p> <h2 id="property-naming-conventions"><a href="#property-naming-conventions" aria-hidden="true" class="header-anchor">#</a> Property Naming Conventions</h2> <p>Plugin properties should be directly mapped to a variable in the plugin code. The variable’s should be prepended with the prefix <em>prop</em> and adhere to standard Java naming conventions. Thus a property could be named <em>InputGainValue</em> and the corresponding variable should be named <em>propInputGainValue</em>.</p> <h2 id="bundle-descriptor-naming-conventions"><a href="#bundle-descriptor-naming-conventions" aria-hidden="true" class="header-anchor">#</a> Bundle Descriptor Naming Conventions</h2> <p>The bundle descriptor should serve as an abstraction layer between the user who creates models in the ACS and the developer. Thus the names for plugins, ports and properties in the bundle descriptor should be as intuitive as possible. Names in the bundle descriptor should not include prefixes because the added information is also conveyed in the presentation of plugins in the ACS.</p> <p>The bundle descriptor can translate intuitive names (e.g. input.switch) to the canonical names of plugins (e.g. GpioInputInstance) allowing coexistence of a user and a developer language. This method of name translation can be applied for plugin names, port names and property names.</p> <h2 id="asterics-are-service-and-plugin-source-file-header"><a href="#asterics-are-service-and-plugin-source-file-header" aria-hidden="true" class="header-anchor">#</a> AsTeRICS ARE, service and plugin source file header</h2> <p>Each source file of ARE, of ARE services, ARE plugins and tools which will be released as open source should have the following header:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*
 *    AsTeRICS - Assistive Technology Rapid Integration and Construction Set
 * 
 * 
 *        d8888      88888888888       8888888b.  8888888 .d8888b.   .d8888b. 
 *       d88888          888           888   Y88b   888  d88P  Y88b d88P  Y88b
 *      d88P888          888           888    888   888  888    888 Y88b.     
 *     d88P 888 .d8888b  888   .d88b.  888   d88P   888  888         &quot;Y888b.  
 *    d88P  888 88K      888  d8P  Y8b 8888888P&quot;    888  888            &quot;Y88b.
 *   d88P   888 &quot;Y8888b. 888  88888888 888 T88b     888  888    888       &quot;888
 *  d8888888888      X88 888  Y8b.     888  T88b    888  Y88b  d88P Y88b  d88P
 * d88P     888  88888P' 888   &quot;Y8888  888   T88b 8888888 &quot;Y8888P&quot;   &quot;Y8888P&quot; 
 *
 *
 *                    homepage: http://www.asterics.org 
 *
 *    This project has been partly funded by the European Commission, 
 *                      Grant Agreement Number 247730
 *  
 *  
 *         Dual License: MIT or GPL v3.0 with &quot;CLASSPATH&quot; exception
 *         (please refer to the folder LICENSE)
 * 
 */</span>
</code></pre></div><h2 id="javadoc-compatible-comments"><a href="#javadoc-compatible-comments" aria-hidden="true" class="header-anchor">#</a> JavaDoc compatible comments</h2> <p>JavaDoc compatible comments should be used to indicate the author of a source file, and to describe the purpose of a function/method/class and the respective parameters and return values.</p> <p>Example for a source file header info:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Bardisplayinstance.java
 * Purpose of this module:
 *   Implements the Bardisplay actuator plugin
 *  
 * @author Chris Veigl [veigl@technikum-wien.at]
 *         Date: Mar 7, 2011
 */</span>
</code></pre></div><p>Example for a method of a class:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
* Returns the value of the given property
* @param propertyName   the name of the property
* @return               the property value
*/</span>
   <span class="token keyword">public</span> Object <span class="token function">getRuntimePropertyValue</span><span class="token punctuation">(</span>String propertyName<span class="token punctuation">)</span>
</code></pre></div><h2 id="implementing-asterics-components"><a href="#implementing-asterics-components" aria-hidden="true" class="header-anchor">#</a> Implementing AsTeRICS components</h2> <p>This section describes the basic steps required for implementing an AsTeRICS component including a brief introduction to OSGi. To illustrate the implementation steps, we take a walk-through with the implementation of a simple processor component.</p> <p>The AsTeRICS schemata of the XML descriptors include two concepts: the <em>bundle descriptors</em> and the <em>deployment descriptors</em>.</p> <h2 id="the-bundle-descriptors"><a href="#the-bundle-descriptors" aria-hidden="true" class="header-anchor">#</a> The Bundle Descriptors</h2> <p>Bundle descriptors are used to describe the content of an individual bundle (typically encapsulating one or more components). As such, they contain information about the included <em>components</em>, their <em>ports</em>, their customizable <em>properties</em> and optionally their GUI.</p> <p>The following shows a bundle descriptor of a simple processor-plugin (subtype for the ACS components menu is “Basic Math”). The plugin provides an averaging function for n values (property “buffer-size”) and has one input port and one output port for integer values:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>componentTypes</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xsi:</span>noNamespaceSchemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bundle_model.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>componentType</span>
      <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>asterics.averager<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">canonical_name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eu.asterics.component.processor.averager.AveragerComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span> <span class="token attr-name">subtype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Basic Math<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Linked list-based averager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ports</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inputPort</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>in_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Input port of averager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>multiplicity</span><span class="token punctuation">&gt;</span></span>one-to-one<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>multiplicity</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mustBeConnected</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mustBeConnected</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">&gt;</span></span>integer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>inputPort</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputPort</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>out_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Output port of averager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">&gt;</span></span>integer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>outputPort</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ports</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>buffer-size<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>integer<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>The size of the averager<span class="token punctuation">'</span>s buffer<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>componentType</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>componentTypes</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="the-deployment-descriptor"><a href="#the-deployment-descriptor" aria-hidden="true" class="header-anchor">#</a> The Deployment Descriptor</h2> <p>Deployment descriptors instruct the ARE of the desired application deployment structure. The deployment descriptor is typically composed in the AsTeRICS Configuration Suite (ACS) but can also be written with a text editor (as the bundle descriptor). Basically the deployment descriptor contains several component descriptions (copied from the corresponding bundle descriptors), actual property values and the channel connection between input- and output ports of the components.</p> <div class="tip custom-block"><p>The <em>type_id</em> argument of the <em>component</em> element in the deployment descriptor must match the <em>id</em> argument of the <em>componentType</em> element on the bundle descriptor. This is how the ARE detects the referred plugin type in the deployment model.</p></div> <p>The following demo deployment descriptor describes a simple model containing two plugins and one channel:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>model</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>noNamespaceSchemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>deployment_model.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>components</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">type_id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sensor.SignalSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sensor.SignalSource.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>A Source of two signal cahnnels <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ports</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputPort</span> <span class="token attr-name">portTypeID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outport1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputPort</span> <span class="token attr-name">portTypeID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outport2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ports</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">type_id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>actuator.SignalTarget<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>actuator.SignalTarget.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>A Signal Target<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ports</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inputPort</span> <span class="token attr-name">portTypeID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>in_x<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inputPort</span> <span class="token attr-name">portTypeID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>in_y<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ports</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>components</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channels</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channel</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>channel.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Connects SignalSource.1 (outport 1) 
                          to SignalTarget.1 (in_x)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sensor.SignalSource.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outport1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>actuator.SignalTarget.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>in_x<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channels</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>model</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="the-manifest-file"><a href="#the-manifest-file" aria-hidden="true" class="header-anchor">#</a> The Manifest file</h2> <p>The Manifest file tells the bundle name and other informations like import packages and .dlls to the OSGi. A typical Manifest looks as follows:</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code>Manifest-Version: 1.0
Bundle-ManifestVersion: 2
Bundle-Name: asterics-processors.averager
Bundle-SymbolicName: eu.asterics.component.processor.averager
Bundle-Version: 0.1.0
DynamicImport-Package: *

</code></pre></div><div class="tip custom-block"><p>The empty line at the end of the Manifest file. It seems that OSGi needs that empty line in order to work properly.</p></div> <h2 id="structure-of-osgi-bundles-containing-are-components"><a href="#structure-of-osgi-bundles-containing-are-components" aria-hidden="true" class="header-anchor">#</a> Structure of OSGi bundles containing ARE components</h2> <p>As a common OSGi bundle, an AsTeRICS component must be packaged in a JAR file, containing the class files (object code) and the Manifest file. In addition to these, the AsTeRICS middleware expects the <em>bundle descriptor</em>. At this point, it should be noted that it is possible to include <em>multiple</em> AsTeRICS components in a single OSGi bundle, as long as the bundle descriptor describes all of them.</p> <p>Overall, the file structure in a typical AsTeRICS bundle looks as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>/
+- eu/
    +- asterics/
       +- component/
          +- ...
+- lib/
    +- native/
       +- my_library.dll
+- META-INF/
   +- MANIFEST.MF
+- bundle_descriptor.xml
</code></pre></div><p>The Java object code is included in the corresponding folders representing the package structure (e.g., “/eu/asterics/component/...” etc). Optionally, if libraries are needed - native or not-, then they are included in the “/lib” folder. The Manifest is included in the “META-INF” folder as per the standard Java/OSGi practice. Finally, the AsTeRICS bundle descriptor is included directly in the root of the JAR file (i.e. “/”).</p> <h2 id="component-lifecyle"><a href="#component-lifecyle" aria-hidden="true" class="header-anchor">#</a> Component lifecyle</h2> <p>An ARE component implementation needs to realise the actual component with its lifecycle (i.e., ways to access its ports and properties, and methods realizing its lifecycle). This is illustrated in the following code:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> eu<span class="token punctuation">.</span>asterics<span class="token punctuation">.</span>mw<span class="token punctuation">.</span>model<span class="token punctuation">.</span>runtime<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IRuntimeComponentInstance</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ------------------ Lifecycle support methods ------------------------- //</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ------------------ Component support methods ------------------------- //</span>

    <span class="token keyword">public</span> IRuntimeInputPort <span class="token function">getInputPort</span><span class="token punctuation">(</span><span class="token keyword">final</span> String portID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> IRuntimeOutputPort <span class="token function">getOutputPort</span><span class="token punctuation">(</span><span class="token keyword">final</span> String portID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> IRuntimeEventListenerPort <span class="token function">getEventListenerPort</span><span class="token punctuation">(</span><span class="token keyword">final</span> String eventPortID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> IRuntimeEventTriggererPort <span class="token function">getEventTriggererPort</span><span class="token punctuation">(</span><span class="token keyword">final</span> String eventPortID<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> Object <span class="token function">getRuntimePropertyValue</span><span class="token punctuation">(</span>String propertyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> <span class="token function">getRuntimePropertyList</span><span class="token punctuation">(</span>String key<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> Object <span class="token function">setRuntimePropertyValue</span><span class="token punctuation">(</span>String propertyName<span class="token punctuation">,</span> Object newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">public</span> <span class="token keyword">void</span> syncedValuesReceived <span class="token punctuation">(</span>HashMap <span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> dataRow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/asterics-docs/assets/img/DeveloperManual_html_17298a48a6d250c5.fbefb96e.png" alt=""></p> <p>The lifecycle support methods are used to intercept AsTeRICS events concerning the component’s lifecycle. In principle, a component can be any of the following:</p> <ul><li><p>READY,</p></li> <li><p>ACTIVE,</p></li> <li><p>SUSPENDED and</p></li> <li><p>STOPPED</p></li></ul> <p>These states and their possible transitions are illustrated in the figure on the right:</p> <p>The rest of the methods are used for supporting the component operations, namely accessing the input/output ports of the component, as well as getting/setting its supported properties.</p> <h2 id="threading"><a href="#threading" aria-hidden="true" class="header-anchor">#</a> Threading</h2> <p>For detailed information about the threading concept see 9.</p> <h2 id="writing-plugins-using-swing"><a href="#writing-plugins-using-swing" aria-hidden="true" class="header-anchor">#</a> Writing plugins using Swing</h2> <p>If a plugin provides a Swing GUI it should only use the asynchronous method</p> <p><code>SwingUtilities.invokeLater(…)</code></p> <p>(and not the synchronous one) to perform the GUI updates. This is to prevent a potential thread deadlock if an action was originally triggered by a Swing GUI event e.g. by a button click in the ARE GUI. For detailed information about the ARE threading concept see 9.</p> <h2 id="long-lasting-method-calls"><a href="#long-lasting-method-calls" aria-hidden="true" class="header-anchor">#</a> Long lasting method calls</h2> <p>If a method call performs a long lasting task and there is no need to await the termination of it, the task should be handed over to a worker thread (see 5.9) to not block ModelExecutor thread. For detailed information about the threading concept see 9.</p> <h2 id="sensor-callbacks"><a href="#sensor-callbacks" aria-hidden="true" class="header-anchor">#</a> Sensor callbacks</h2> <p>In case you write a plugin that uses a separate thread to generate data (e.g. FrameGrabber, Timer,…) you should explicitly use the method</p> <p><code>AstericsModelExecutionThreadPool.instance.execute(…)</code></p> <p>This is to ensure that corresponding data will be delivered within the same task execution. For detailed information about the threading concept see 9. Below is an example of the FacetrackerLK plugin in the callback method for new arriving coordinates:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">newCoordinates_callback</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> point1_x<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> point1_y<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> point2_x<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> point2_y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    AstericsModelExecutionThreadPool<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            opNoseX<span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span>ConversionUtils<span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>point1_x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            opNoseY<span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span>ConversionUtils<span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>point1_y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            opChinX<span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span>ConversionUtils<span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>point2_x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            opChinY<span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span>ConversionUtils<span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>point2_y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="contributing-a-developed-plugin-git-pull-request"><a href="#contributing-a-developed-plugin-git-pull-request" aria-hidden="true" class="header-anchor">#</a> Contributing a developed plugin (git pull request)</h2> <p>The AsTeRICS platform is designed as an open and modular platform. The idea is to make it easy for others to develop assistive plugins any end-user in the world could benefit from. Hence, we would love to get your contribution back to the github repository to be able to ship the new plugin with future releases. For this purpose, please send a pull request.</p> <p><a href="https://help.github.com/articles/using-pull-requests/" target="_blank" rel="noopener noreferrer">https://help.github.com/articles/using-pull-requests/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div data-v-5da47a95><br data-v-5da47a95> <a target="_blank" href="https://github.com/asterics/AsTeRICS/edit/pre-3.1/Documentation/docs/develop/Plugin-Advanced.md" data-v-5da47a95>Help us improve this page!</a></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/asterics-docs/develop/Plugin-Tutorial.html" class="prev">
          Tutorial
        </a></span> <span class="next"><a href="/asterics-docs/develop/ARE.html">
          Advanced
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----><div data-v-ef6a919a><!----></div></div></div>
    <script src="/asterics-docs/assets/js/app.863aef42.js" defer></script><script src="/asterics-docs/assets/js/3.7faabfa7.js" defer></script><script src="/asterics-docs/assets/js/79.1667e015.js" defer></script><script src="/asterics-docs/assets/js/241.0cf33f56.js" defer></script><script src="/asterics-docs/assets/js/10.ca5709b3.js" defer></script>
  </body>
</html>
